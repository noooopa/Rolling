/* 6. @keyframes에서 CSS 변수를 사용하도록 수정 */
@keyframes noteFadeIn {
    from {
        opacity: 0;
        /* 7. 애니메이션 시작 시에도 회전(rotation)이 적용되도록 var() 사용 */
        transform: rotate(var(--note-rotation)) translateY(30px) scale(0.9);
    }
    to {
        opacity: 1;
        /* 8. 애니메이션 종료 시에도 회전(rotation)이 적용되도록 var() 사용 */
        transform: rotate(var(--note-rotation)) translateY(0) scale(1);
    }
}

.note-container {
    position: absolute;
    width: 220px;
    height: 220px;
    padding: 20px;
    box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.2);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;

    /* 9. 기본 transform을 CSS 변수로 설정 */
    transform: rotate(var(--note-rotation));

    /* 10. 애니메이션 적용 (지연 시간도 CSS 변수로 받음) */
    opacity: 0;
    animation: noteFadeIn 0.5s ease-out forwards;
    animation-delay: var(--animation-delay); /* 11. 변수 사용 */
}

.note-container:hover {
    /* 12. 호버 시에는 회전값을 0으로 덮어쓰는 것이 원래 의도였으므로
          이 부분은 그대로 둡니다. (마우스를 올리면 똑바로 펴짐)
    */
    transform: scale(1.1) rotate(0deg) !important;
    box-shadow: 10px 10px 20px rgba(0, 0, 0, 0.3);
    z-index: 10;
    animation-delay: 0s !important;
}

.note-author-main {
    font-family: 'Gaegu', cursive;
    font-weight: 700;
    font-size: 1.8rem;
    text-align: center;
    color: #333;
}

/* ... @keyframes noteFadeIn ... */

.note-container {
    /* 6. CSS 변수를 사용해 데스크탑 위치 설정 */
    position: absolute;
    top: var(--top);
    left: var(--left);

    width: 220px;
    height: 220px;
    padding: 20px;
    box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.2);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;

    transform: rotate(var(--note-rotation));
    opacity: 0;
    animation: noteFadeIn 0.5s ease-out forwards;
    animation-delay: var(--animation-delay);
}

/* ... .note-container.focused, .note-container:hover ... */

.note-author-main {
    font-family: 'Gaegu', cursive;
    font-weight: 700;
    font-size: 1.8rem;
    text-align: center;
    color: #333;
}

/* ... 기존 스타일 숨김 처리 ... */


/* 7. (신규) 768px 이하 모바일 화면을 위한 미디어 쿼리 */
@media (max-width: 768px) {
    .note-container {
        /* 8. 'position: relative' 삭제! (absolute 유지) */

        /* 9. (핵심) 모바일에서 포스트잇 크기 줄이기 */
        width: 160px !important;
        height: 160px !important;
        padding: 15px !important;

        /* 회전, 애니메이션 등은 데스크탑 설정 그대로 상속받음 */
    }

    .note-author-main {
        font-size: 1.3rem; /* 모바일에서 닉네임 폰트 줄이기 */
    }
}